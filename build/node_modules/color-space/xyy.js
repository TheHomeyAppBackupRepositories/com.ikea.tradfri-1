/**
 * Additional xyY space, where xy are relative chromacity params
 *
 * @module color-space/xyy
 */

'use strict';

const xyz = require('./xyz');

const xyy = {
  name: 'xyy',
  min: [0, 0, 0],
  max: [1, 1, 100],
  channel: ['x', 'y', 'Y'],
  alias: ['xyY', 'Yxy', 'yxy'],
};

xyy.xyz = function(arg) {
  let X; let Y; let Z; let x; let
    y;
  x = arg[0]; y = arg[1]; Y = arg[2];
  if (y === 0) {
    return [0, 0, 0];
  }
  X = x * Y / y;
  Z = (1 - x - y) * Y / y;
  return [X, Y, Z];
};

xyz.xyy = function(arg) {
  let sum; let X; let Y; let
    Z;
  X = arg[0]; Y = arg[1]; Z = arg[2];
  sum = X + Y + Z;
  if (sum === 0) {
    return [0, 0, Y];
  }
  return [X / sum, Y / sum, Y];
};

module.exports = xyy;
