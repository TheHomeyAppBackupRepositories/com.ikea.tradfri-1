/**
 * YES color space
 * http://www.atlantis-press.com/php/download_paper.php?id=198
 *
 * @module color-space/yes
 */

'use strict';

const rgb = require('./rgb');

const yes = module.exports = {
  name: 'yes',
  min: [0, 0, 0],
  max: [1, 1, 1],
  channel: ['luminance', 'e-factor', 's-factor'],
};


yes.rgb = function(arg) {
  const y = arg[0]; const e = arg[1]; const
    s = arg[2];

  const m = [
    1, 1.431, 0.126,
    1, -0.569, 0.126,
    1, 0.431, -1.874,
  ];

  const r = y * m[0] + e * m[1] + s * m[2];
  const g = y * m[3] + e * m[4] + s * m[5];
  const b = y * m[6] + e * m[7] + s * m[8];

  return [r * 255, g * 255, b * 255];
};

rgb.yes = function(arg) {
  const r = arg[0] / 255; const g = arg[1] / 255; const
    b = arg[2] / 255;

  const m = [
    0.253, 0.684, 0.063,
    0.500, -0.50, 0.0,
    0.250, 0.250, -0.5,
  ];

  return [
    r * m[0] + g * m[1] + b * m[2],
    r * m[3] + g * m[4] + b * m[5],
    r * m[6] + g * m[7] + b * m[8],
  ];
};
